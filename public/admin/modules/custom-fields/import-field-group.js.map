{"version":3,"file":"import-field-group.js","sources":["core/custom-fields/resources/assets/js/admin/modules/custom-fields/import-field-group.js"],"sourcesContent":["(function ($) {\n    let $body = $('body');\n\n    $body.on('click', '.trigger-import', function (event) {\n        let $form = $(this).closest('form');\n        $form.find('input[type=file]').val('');\n    });\n\n    $body.on('change', 'form.import-field-group input[type=file]', function (event) {\n        let $form = $(this).closest('form');\n        let file = this.files[0];\n        if (file) {\n            let reader = new FileReader();\n            reader.readAsText(file);\n            reader.onload = function(e) {\n                let json = Helpers.jsonDecode(e.target.result);\n                $.ajax({\n                    url: $form.attr('action'),\n                    type: 'POST',\n                    data: {\n                        json_data: json,\n                    },\n                    dataType: 'json',\n                    beforeSend: function () {\n                        WebEd.showLoading();\n                    },\n                    success: function (res) {\n                        WebEd.showNotification(res.messages, (res.error ? 'error' : 'success'));\n                        if (!res.error) {\n                            let dataTableHelper = $('table.datatables')[0].dataTableHelper;\n                            if (dataTableHelper) {\n                                dataTableHelper.getDataTable().ajax.reload();\n                            }\n                        }\n                    },\n                    complete: function (data) {\n                        WebEd.hideLoading();\n                    },\n                    error: function (data) {\n                        WebEd.showNotification('Some error occurred', 'error');\n                    }\n                });\n            };\n        }\n    });\n}(jQuery));"],"names":["let"],"mappings":";;;AAAA,CAAC,UAAU,CAAC,EAAE;IACVA,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;;IAEtB,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE,iBAAiB,EAAE,UAAU,KAAK,EAAE;QAClDA,IAAI,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACpC,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;KAC1C,CAAC,CAAC;;IAEH,KAAK,CAAC,EAAE,CAAC,QAAQ,EAAE,0CAA0C,EAAE,UAAU,KAAK,EAAE;QAC5EA,IAAI,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACpCA,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzB,IAAI,IAAI,EAAE;YACNA,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAC9B,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACxB,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE;gBACxBA,IAAI,IAAI,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC/C,CAAC,CAAC,IAAI,CAAC;oBACH,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;oBACzB,IAAI,EAAE,MAAM;oBACZ,IAAI,EAAE;wBACF,SAAS,EAAE,IAAI;qBAClB;oBACD,QAAQ,EAAE,MAAM;oBAChB,UAAU,EAAE,YAAY;wBACpB,KAAK,CAAC,WAAW,EAAE,CAAC;qBACvB;oBACD,OAAO,EAAE,UAAU,GAAG,EAAE;wBACpB,KAAK,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,KAAK,GAAG,OAAO,GAAG,SAAS,EAAE,CAAC;wBACxE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE;4BACZA,IAAI,eAAe,GAAG,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC;4BAC/D,IAAI,eAAe,EAAE;gCACjB,eAAe,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;6BAChD;yBACJ;qBACJ;oBACD,QAAQ,EAAE,UAAU,IAAI,EAAE;wBACtB,KAAK,CAAC,WAAW,EAAE,CAAC;qBACvB;oBACD,KAAK,EAAE,UAAU,IAAI,EAAE;wBACnB,KAAK,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC;qBAC1D;iBACJ,CAAC,CAAC;aACN,CAAC;SACL;KACJ,CAAC,CAAC;CACN,CAAC,MAAM,CAAC;;","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGEvUHJvamVjdHMvcmVwb3MvU2dTb2Z0d2FyZS9jYXl4YW5ob25saW5lL2NvcmUvY3VzdG9tLWZpZWxkcy9yZXNvdXJjZXMvYXNzZXRzL2pzL2FkbWluL21vZHVsZXMvY3VzdG9tLWZpZWxkcy9pbXBvcnQtZmllbGQtZ3JvdXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgkKSB7XG4gICAgbGV0ICRib2R5ID0gJCgnYm9keScpO1xuXG4gICAgJGJvZHkub24oJ2NsaWNrJywgJy50cmlnZ2VyLWltcG9ydCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgJGZvcm0gPSAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0nKTtcbiAgICAgICAgJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1maWxlXScpLnZhbCgnJyk7XG4gICAgfSk7XG5cbiAgICAkYm9keS5vbignY2hhbmdlJywgJ2Zvcm0uaW1wb3J0LWZpZWxkLWdyb3VwIGlucHV0W3R5cGU9ZmlsZV0nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0ICRmb3JtID0gJCh0aGlzKS5jbG9zZXN0KCdmb3JtJyk7XG4gICAgICAgIGxldCBmaWxlID0gdGhpcy5maWxlc1swXTtcbiAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGxldCBqc29uID0gSGVscGVycy5qc29uRGVjb2RlKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkZm9ybS5hdHRyKCdhY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uX2RhdGE6IGpzb24sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFdlYkVkLnNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFdlYkVkLnNob3dOb3RpZmljYXRpb24ocmVzLm1lc3NhZ2VzLCAocmVzLmVycm9yID8gJ2Vycm9yJyA6ICdzdWNjZXNzJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YVRhYmxlSGVscGVyID0gJCgndGFibGUuZGF0YXRhYmxlcycpWzBdLmRhdGFUYWJsZUhlbHBlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVRhYmxlSGVscGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZUhlbHBlci5nZXREYXRhVGFibGUoKS5hamF4LnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBXZWJFZC5oaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFdlYkVkLnNob3dOb3RpZmljYXRpb24oJ1NvbWUgZXJyb3Igb2NjdXJyZWQnLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pO1xufShqUXVlcnkpKTsiXSwibmFtZXMiOlsibGV0Il0sIm1hcHBpbmdzIjoiOzs7QUFBQSxDQUFDLFVBQVUsQ0FBQyxFQUFFO0lBQ1ZBLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7SUFFdEIsS0FBSyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsVUFBVSxLQUFLLEVBQUU7UUFDbERBLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEMsS0FBSyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUMxQyxDQUFDLENBQUM7O0lBRUgsS0FBSyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsMENBQTBDLEVBQUUsVUFBVSxLQUFLLEVBQUU7UUFDNUVBLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcENBLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekIsSUFBSSxJQUFJLEVBQUU7WUFDTkEsSUFBSSxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUM5QixNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hCLE1BQU0sQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDLEVBQUU7Z0JBQ3hCQSxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQy9DLENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBQ0gsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO29CQUN6QixJQUFJLEVBQUUsTUFBTTtvQkFDWixJQUFJLEVBQUU7d0JBQ0YsU0FBUyxFQUFFLElBQUk7cUJBQ2xCO29CQUNELFFBQVEsRUFBRSxNQUFNO29CQUNoQixVQUFVLEVBQUUsWUFBWTt3QkFDcEIsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDO3FCQUN2QjtvQkFDRCxPQUFPLEVBQUUsVUFBVSxHQUFHLEVBQUU7d0JBQ3BCLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxLQUFLLEdBQUcsT0FBTyxHQUFHLFNBQVMsRUFBRSxDQUFDO3dCQUN4RSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRTs0QkFDWkEsSUFBSSxlQUFlLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDOzRCQUMvRCxJQUFJLGVBQWUsRUFBRTtnQ0FDakIsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQzs2QkFDaEQ7eUJBQ0o7cUJBQ0o7b0JBQ0QsUUFBUSxFQUFFLFVBQVUsSUFBSSxFQUFFO3dCQUN0QixLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7cUJBQ3ZCO29CQUNELEtBQUssRUFBRSxVQUFVLElBQUksRUFBRTt3QkFDbkIsS0FBSyxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixFQUFFLE9BQU8sQ0FBQyxDQUFDO3FCQUMxRDtpQkFDSixDQUFDLENBQUM7YUFDTixDQUFDO1NBQ0w7S0FDSixDQUFDLENBQUM7Q0FDTixDQUFDLE1BQU0sQ0FBQzs7In0="}